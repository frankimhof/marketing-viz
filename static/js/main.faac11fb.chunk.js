(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,n){e.exports=n(171)},149:function(e,t,n){},151:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var a,r,c,o,l,i,s=n(0),u=n.n(s),d=n(9),m=n.n(d),f=(n(149),n(2)),h=n(58),g=(n(151),n(1)),b=n(18),p=n(4),v=n.n(p),x=n(57),E=function(e){var t=Object(s.useState)(void 0),n=Object(f.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(void 0),o=Object(f.a)(c,2),l=o[0],i=o[1],u=Object(s.useState)(!1),d=Object(f.a)(u,2),m=d[0],h=d[1];return Object(s.useEffect)(function(){(function(){var e=Object(x.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,r(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i(l);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}));return function(t){return e.apply(this,arguments)}})()(e)},[e]),{data:a,error:l,isLoading:m}},k=g.g("%Y"),y=function(e){var t,n=e.axis,a=e.tickFontSize,r=e.plotDimensions,c=e.scale,o=e.lineColor,l=e.lineWidth,i=void 0===l?1:l,s=r.boundedHeight,d=g.b({thousands:"\u2009",decimal:".",grouping:[3],currency:["Euro",""]}),m=g.i.every(1);return t="x"===n?c.ticks(m).map(function(e){return{value:e,offset:c(e)}}):c.ticks().map(function(e){return{value:e,offset:c(e)}}),u.a.createElement(u.a.Fragment,null,"x"===n&&t.map(function(e,t){var n=e.value,r=e.offset;return u.a.createElement("g",{key:t,transform:"translate(".concat(r,", ").concat(s,")")},u.a.createElement("line",{y2:8,stroke:o,strokeWidth:i}),u.a.createElement("text",{key:t,textAnchor:"end",dominantBaseline:"middle",style:{fontSize:a,fill:"".concat(o),transformOrigin:"top left",transform:"translate(0px, 30px) rotate(-40deg)"}},k(n)+"/"+(parseInt(k(n).slice(-2))+1)))}),"y"===n&&t.map(function(e,t){var n=e.value,r=e.offset;return u.a.createElement("g",{key:t,transform:"translate(0, ".concat(s-r,")")},u.a.createElement("line",{x2:-8,stroke:o,strokeWidth:i}),u.a.createElement("text",{key:t,style:{fontSize:a,fill:"".concat(o),textAnchor:"end",transform:"translate(-10px,2px)"}},d.format(",")(n)))}))},S=function(e){var t=e.axis,n=e.label,a=e.labelFontSize,r=void 0===a?30:a,c=e.labelColor,o=void 0===c?"black":c,l=e.plotDimensions,i=l.boundedWidth,s=l.boundedHeight,d=l.marginBottom,m=l.marginLeft;return u.a.createElement(u.a.Fragment,null,"y"===t&&u.a.createElement("g",{style:{transform:"rotate(-90deg)"}},u.a.createElement("text",{transform:"translate(".concat(.5*-s,", ").concat(2*r-m,")"),textAnchor:"middle",fontSize:r,fill:o},n)),"x"===t&&u.a.createElement("g",{transform:"translate(".concat(.5*i,", ").concat(s+d,")")},u.a.createElement("text",{textAnchor:"middle",fill:o,fontSize:r},n)))},w=function(e){var t=e.axis,n=e.plotDimensions,a=e.scale,r=e.lineColor,c=void 0===r?"#ddd":r,o=e.labelColor,l=void 0===o?"#ddd":o,i=e.label,s=e.labelFontSize,d=void 0===s?30:s,m=e.ticksFontSize,f=void 0===m?30:m,h=n.boundedHeight,g=n.boundedWidth;return u.a.createElement(u.a.Fragment,null,u.a.createElement("g",null,"x"===t?u.a.createElement("line",{y1:h,y2:h,x2:g,stroke:c}):u.a.createElement("line",{y2:h,stroke:c}),i&&u.a.createElement(S,{axis:t,plotDimensions:n,label:i,labelColor:l,labelFontSize:d}),a&&u.a.createElement(y,{axis:t,plotDimensions:n,scale:a,lineColor:c,tickFontSize:f})))},O=function(e){var t=e.axis,n=e.plotDimensions,a=e.scale,r=e.lineColor,c=void 0===r?"#eee":r,o=n.boundedHeight,l=n.boundedWidth,i=a.ticks().map(function(e){return{value:e,offset:a(e)}});return u.a.createElement(u.a.Fragment,null,"x"===t&&i.map(function(e,t){var n=e.offset;return u.a.createElement("g",{key:t,transform:"translate(".concat(n,", ").concat(o,")")},u.a.createElement("line",{y2:l,stroke:c}))}),"y"===t&&i.map(function(e,t){var n=e.offset;return u.a.createElement("g",{key:t,transform:"translate(0, ".concat(o-n,")")},u.a.createElement("line",{x2:l,stroke:c}))}))},j=function(e){return e*Math.PI/180},L=function(e,t,n){for(var a=[],r=-(Math.tan(j(20))*e);r<t;r+=20)a.push(s.createElement("line",{style:{transform:"translate(0, ".concat(r,"px) rotate(").concat(20,"deg)")},x2:1.5*e,stroke:n,"stroke-width":"2","stroke-linecap":"square"}));return a},F=function(e,t,n){for(var a=Math.tan(j(30))*e,r=[],c=-a;c<t;c+=10)r.push(s.createElement("line",{style:{transform:"translate(0, ".concat(c,"px) rotate(").concat(30,"deg)")},x2:1.5*e,stroke:n,"stroke-width":"2","stroke-linecap":"square"})),r.push(s.createElement("line",{style:{transform:"translate(0, ".concat(c+a,"px) rotate(-").concat(30,"deg)")},x2:1.5*e,stroke:n,"stroke-width":"1","stroke-linecap":"square"}));return r},C=function(e,t,n){for(var a=[],r="M 0 0 Q ".concat(10," ").concat(20," ").concat(20," 0"),c="M ".concat(20," 0 Q ").concat(30," ").concat(-20," ").concat(40," 0"),o=0;o<=t+100;o+=30)for(var l=-40;l<=e;l+=30)a.push(s.createElement("g",{style:{transform:"translate(".concat(l,"px, ").concat(o+10,"px)")}},s.createElement("path",{d:r,fill:"none",stroke:n,"stroke-width":"2"}),");",s.createElement("path",{d:c,fill:"none",stroke:n,"stroke-width":"2"}),");"));return a},z=function(e,t,n){for(var a=[],r=0;r<=t+20;r+=25)for(var c=0;c<=e+20;c+=20)a.push(s.createElement("g",{style:{transform:"translate(10px, 10px)"}},s.createElement("circle",{cx:c,cy:r,r:3,fill:n}),s.createElement("circle",{cx:c,cy:r,r:10,fill:"transparent",stroke:n,strokeWidth:2})));return a},A=function(e){var t=e.name,n=e.barWidth,a=e.barHeight,r=e.clipPath,c=e.color,o=void 0===c?"#000":c,l=e.intensity,i=void 0===l?2:l,u=[],d=Object(g.c)(o).darker(i).formatHex();switch(t){case"diagonal-lines":u=L(n,a,d);break;case"checkered":u=F(n,a,d);break;case"sine":u=C(n,a,d);break;case"circles":u=z(n,a,d);break;default:u=[]}return s.createElement("g",{clipPath:r},u)},W=function(e){var t=e.isStacked,n=void 0!==t&&t,a=e.data,r=e.xAccessor,c=e.yAccessors,o=e.legend,l=e.yGridLine,i=void 0===l||l,s=e.barSpacing,d=void 0===s?5:s,m=e.barGroupSpacing,f=void 0===m?10:m,h=e.yAxisLabel,b=void 0===h?"yAxisLabel":h,p=e.xAxisLabel,v=void 0===p?"xAxisLabel":p,x=e.fontSettings,E=e.colorSettings,k=e.plotDimensions,y=e.showValues,S=void 0!==y&&y,j=x||{},L=j.valueFontSize,F=void 0===L?20:L,C=j.yLabelFontSize,z=j.xLabelFontSize,W=j.xTicksFontSize,M=j.yTicksFontSize,D=E||{},H=D.backgroundColor,N=void 0===H?"#303030":H,B=D.valueColor,P=void 0===B?"#ddd":B,T=D.gridLineColor,I=void 0===T?g.c("#ddd").darker(3).formatHex():T,J=D.xLabelColor,V=void 0===J?"#ddd":J,q=D.yLabelColor,G=void 0===q?"#ddd":q,Q=D.xAxisColor,R=void 0===Q?"#ddd":Q,Z=D.yAxisColor,Y=void 0===Z?"#ddd":Z,K=k.width,U=k.height,X=k.boundedHeight,$=k.marginTop,_=k.marginLeft,ee=n?function(e){return c.reduce(function(t,n){return t+n(e)},0)}:c.reduce(function(e,t){return g.a(a,t)[1]>g.a(a,e)[1]?t:e},c[0]),te=g.d().domain([0,g.a(a,ee)[1]]).range([0,k.boundedHeight]).nice(),ne=g.e().domain(g.a(a,r)).range([100,k.boundedWidth-100]).nice(),ae=g.i.every(1),re=ne(ne.ticks(ae)[1])-ne(ne.ticks(ae)[0]),ce=c.length,oe=n?re-f:(re-f-(ce-1)*d)/ce;return u.a.createElement("div",{className:"plot"},u.a.createElement("svg",{viewBox:"0 0 ".concat(K," ").concat(U),preserveAspectRatio:"xMinyMin meet",style:{backgroundColor:N,borderRadius:"5px"}},u.a.createElement("g",{transform:"translate(".concat(_,", ").concat($,")")},i&&u.a.createElement(O,{axis:"y",scale:te,plotDimensions:k,lineColor:I}),a.map(function(e,t){return u.a.createElement("g",{transform:"translate(".concat(ne(r(e))-.5*re,", 0)"),key:t},u.a.createElement("g",null,c.map(function(a,r){var l=n?c.slice(0,r+1).reduce(function(t,n){return t+te(n(e))},0):te(a(e));return u.a.createElement("g",{transform:"translate(".concat(n?.5*f:.5*f+r*oe+r*d,", ").concat(X-l,")"),key:r},u.a.createElement("defs",null,u.a.createElement("clipPath",{id:"cut-off".concat(t,"-").concat(r)},u.a.createElement("rect",{height:te(a(e)),width:oe,rx:2}))),u.a.createElement("rect",{height:te(a(e)),width:oe,rx:2,style:{fill:o[r].color}}),u.a.createElement(A,{name:o[r].pattern,barWidth:oe,barHeight:te(a(e)),clipPath:"url(#cut-off".concat(t,"-").concat(r,")"),color:o[r].color,intensity:1}),F&&S&&u.a.createElement("g",{transform:"translate(".concat(.5*oe,", -5)")},u.a.createElement("text",{fontWeight:"bold",fontSize:F,textAnchor:"middle",style:{fill:"".concat(P)}},a(e))))})),u.a.createElement("g",null,c.map(function(t,a){var r=n?c.slice(0,a+1).reduce(function(t,n){return t+te(n(e))},0):te(t(e));return u.a.createElement("g",{transform:"translate(".concat(n?.5*f:.5*f+a*oe+a*d,", ").concat(X-r,")"),key:a},F&&S&&u.a.createElement("g",{transform:"translate(".concat(.5*oe,", -5)")},u.a.createElement("text",{fontWeight:"bold",fontSize:F,textAnchor:"middle",style:{fill:"".concat(P)}},t(e))))})))}),u.a.createElement(w,{axis:"x",labelColor:V,scale:ne,plotDimensions:k,lineColor:R,label:v,labelFontSize:z,ticksFontSize:W}),u.a.createElement(w,{axis:"y",labelColor:G,scale:te,plotDimensions:k,lineColor:Y,label:b,labelFontSize:C,ticksFontSize:M}))))},M=function(e){var t=e.items;return u.a.createElement("div",{className:"legend",style:{marginTop:"20px"}},t.map(function(e,n){return u.a.createElement("div",{className:"legend-item"},u.a.createElement("div",{className:"legend-rect"},u.a.createElement("svg",{style:{display:"block"},viewBox:"0 0 ".concat(40," ").concat(20)},u.a.createElement("defs",null,u.a.createElement("clipPath",{id:"legend-cut-off".concat(n)},u.a.createElement("rect",{height:20,width:40,rx:2}))),u.a.createElement("rect",{height:20,fill:e.color,width:40,rx:2}),u.a.createElement(A,{name:t[n].pattern,barWidth:40,barHeight:20,clipPath:"url(#legend-cut-off".concat(n,")"),color:t[n].color,intensity:1}))),u.a.createElement("div",{style:{marginLeft:"5px"}},e.legendLabel))}))},D=["#fce70c"].concat(Object(h.a)(g.f)),H=["","","sine","diagonal-lines","","circles","checkered","sine"],N=g.h("%Y"),B=function(e){return Object.keys(e).slice(3,-1).map(function(e){return{legendLabel:e,accessor:function(t){return Math.round(t[e]/t.totalNumberOfStudents*100)}}})},P={width:a=1200,height:r=600,marginLeft:c=180,marginRight:o=50,marginTop:l=50,marginBottom:i=150,boundedWidth:a-c-o,boundedHeight:r-l-i};var T=function(){var e=Object(s.useState)("Elektrotechnik"),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),c=Object(f.a)(r,2),o=c[0],l=c[1],i=Object(s.useState)(!1),d=Object(f.a)(i,2),m=d[0],h=d[1],g=Object(s.useState)(!0),p=Object(f.a)(g,2),v=p[0],x=p[1],k=Object(s.useState)(!0),y=Object(f.a)(k,2),S=y[0],w=y[1],O=Object(s.useState)(void 0),j=Object(f.a)(O,2),L=j[0],F=j[1],C=Object(s.useState)(void 0),z=Object(f.a)(C,2),A=z[0],T=z[1],I=E("studierende.json"),J=I.data;return I.error,I.isLoading,Object(s.useEffect)(function(){if(J){var e=B(J[0]);T(e),F(e.filter(function(e){return"FHNW"===e.legendLabel}))}},[J]),u.a.createElement("div",{className:"App"},A&&L&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"settings"},u.a.createElement("div",{onClick:function(){l(!o)},style:{padding:"5px",display:"flex",flexDirection:"row",justifyContent:"flex-end"}},u.a.createElement("svg",{width:20,height:20},u.a.createElement("g",{style:{transform:o?"rotate(90deg)":"",transformOrigin:"center"}},u.a.createElement("line",{transform:"translate(0, 4)",x1:2,x2:18,strokeWidth:4,stroke:"#ddd",strokeLinecap:"round"}),u.a.createElement("line",{transform:"translate(0, 10)",x1:2,x2:18,strokeWidth:4,stroke:"#ddd",strokeLinecap:"round"}),u.a.createElement("line",{transform:"translate(0, 16)",x1:2,x2:18,strokeWidth:4,stroke:"#ddd",strokeLinecap:"round"})))),o&&u.a.createElement("div",{className:"select-group"},u.a.createElement(b.a,{onChange:function(e){if(null===e)throw"Fachrichtung was not propperly selected";a(e.label)},defaultValue:{value:n,label:n},options:Array.from(new Set(J.map(function(e){return e.Fachrichtung}))).map(function(e){return{value:e,label:e}})}),u.a.createElement(b.a,{onChange:function(e){F(e.map(function(e){return e.value}))},defaultValue:L.map(function(e){return{value:e,label:e.legendLabel}}),options:A.map(function(e){return{value:e,label:e.legendLabel}}),isMulti:!0}),u.a.createElement("button",{onClick:function(){w(!S)}},S?"Balken nicht stapeln":"Balken stapeln"),u.a.createElement("button",{onClick:function(){x(!v),v?(T(A.map(function(e){return Object.assign(e,{accessor:function(t){return t[e.legendLabel]}})})),F(L.map(function(e){return Object.assign(e,{accessor:function(t){return t[e.legendLabel]}})}))):(T(A.map(function(e){return Object.assign(e,{accessor:function(t){return Math.round(t[e.legendLabel]/t.totalNumberOfStudents*100)}})})),F(L.map(function(e){return Object.assign(e,{accessor:function(t){return Math.round(t[e.legendLabel]/t.totalNumberOfStudents*100)}})})))}},v?"als absolute Zahlen angeben":"als Marktanteile in % angeben"),u.a.createElement("button",{onClick:function(){return h(!m)}},m?"Zahlen verstecken":"Zahlen anzeigen"))),u.a.createElement("div",{className:"title"},"Studierende an den Fachhochschulen"),u.a.createElement("div",{className:"subtitle"},"alle"===n?"Alle technischen Fachrichtungen kumuliert":"Fachrichtung ".concat(n)),u.a.createElement(M,{items:L}),u.a.createElement(W,{plotDimensions:P,isStacked:S,data:J.filter(function(e){return e.Fachrichtung===n}),xAccessor:function(e){var t=N(e.Jahr.slice(0,4));if(t)return t;throw"could not convert date"},yAccessors:L.map(function(e){return e.accessor}),yAxisLabel:v?"Marktanteil (%)":"Studierende",xAxisLabel:"Jahr",legend:L.map(function(e,t){return Object.assign(e,{color:D[t%D.length],pattern:H[t%H.length]})}),barGroupSpacing:25,fontSettings:{xLabelFontSize:30,yLabelFontSize:30},showValues:m}),u.a.createElement("div",{style:{width:"vw"}},u.a.createElement("a",{style:{marginTop:"20px",color:"#1cb2f5"},href:"https://www.bfs.admin.ch/bfs/de/home/statistiken/kataloge-datenbanken/daten.assetdetail.16324913.html"},"Quelle: https://www.bfs.admin.ch/bfs/de/home/statistiken/kataloge-datenbanken/daten.assetdetail.16324913.html"))))},I=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,172)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)})};m.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(T,null)),document.getElementById("root")),I()}},[[144,3,2]]]);
//# sourceMappingURL=main.faac11fb.chunk.js.map